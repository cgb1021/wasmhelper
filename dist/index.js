function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).wasmhelper={})}(this,function(t){"use strict";var f=function(t,e){var n=t instanceof WebAssembly.Module;if(!(n||"string"==typeof t&&/\.wasm\??/.test(t)))throw new Error("no url");return n||e?(void 0===e.env&&(e.env={}),["emscripten_resize_heap","emscripten_memcpy_big","emscripten_notify_memory_growth","emscripten_asm_const_int"].forEach(function(t){"function"!=typeof e.env[t]&&(e.env[t]=function(){})}),void 0===e.wasi_snapshot_preview1&&(e.wasi_snapshot_preview1={}),["proc_exit","fd_write"].forEach(function(t){"function"!=typeof e.wasi_snapshot_preview1[t]&&(e.wasi_snapshot_preview1[t]=function(){})}),"number"!=typeof e.INITIAL_MEMORY||e.env.memory||(e.env.memory=new WebAssembly.Memory({initial:e.INITIAL_MEMORY,maximum:"number"==typeof e.MAXIMUM_MEMORY?e.MAXIMUM_MEMORY:e.INITIAL_MEMORY})),n?WebAssembly.instantiate(t,e):"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fetch(t),e):fetch(t).then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,e)})):"function"==typeof WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(t)):fetch(t).then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.compile(t)})},l="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,e=console.warn.bind(console);function u(t){u.shown||(u.shown={}),u.shown[t]||(u.shown[t]=1,e(t))}var h={lengthBytesUTF8:function(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);(r=55296<=r&&r<=57343?65536+((1023&r)<<10)|1023&t.charCodeAt(++n):r)<=127?++e:e+=r<=2047?2:r<=65535?3:4}return e},stringToUTF8:function(t,e,n,r){if(!(0<r))return 0;for(var o=e instanceof ArrayBuffer?new Uint8Array(e):e,e=n,i=n+r,s=0;s<t.length;++s){var a=t.charCodeAt(s);if((a=55296<=a&&a<=57343?65536+((1023&a)<<10)|1023&t.charCodeAt(++s):a)<=127){if(i<=n)break;o[n++]=a}else if(a<=2047){if(i<=n+1)break;o[n++]=192|a>>6,o[n++]=128|63&a}else if(a<=65535){if(i<=n+2)break;o[n++]=224|a>>12,o[n++]=128|a>>6&63,o[n++]=128|63&a}else{if(i<=n+3)break;2097152<=a&&u("Invalid Unicode code point 0x"+a.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF)."),o[n++]=240|a>>18,o[n++]=128|a>>12&63,o[n++]=128|a>>6&63,o[n++]=128|63&a}}return o[n]=0,n-e},UTF8ToString:function(t,e,n){for(var r=t instanceof ArrayBuffer?new Uint8Array(t):t,o=e+n,i=e;r[i]&&!(o<=i);)++i;if(16<i-e&&r.subarray&&l)return l.decode(r.subarray(e,i));for(var s="";e<i;){var a,c,f=r[e++];128&f?(a=63&r[e++],192!=(224&f)?(c=63&r[e++],(f=224==(240&f)?(15&f)<<12|a<<6|c:(240!=(248&f)&&u("Invalid UTF-8 leading byte 0x"+f.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),(7&f)<<18|a<<12|c<<6|63&r[e++]))<65536?s+=String.fromCharCode(f):(c=f-65536,s+=String.fromCharCode(55296|c>>10,56320|1023&c))):s+=String.fromCharCode((31&f)<<6|a)):s+=String.fromCharCode(f)}return s},convertJsFunctionToWasm:function(t,e){if("function"==typeof WebAssembly.Function){for(var n={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:"v"==e[0]?[]:[n[e[0]]]},o=1;o<e.length;++o)r.parameters.push(n[e[o]]);return new WebAssembly.Function(r,t)}var i=[1,0,1,96],s=e.slice(0,1),a=e.slice(1),c={i:127,j:126,f:125,d:124};i.push(a.length);for(var f=0;f<a.length;++f)i.push(c[a[f]]);return"v"==s?i.push(0):i=i.concat([1,c[s]]),i[1]=i.length-2,s=new Uint8Array([0,97,115,109,1,0,0,0].concat(i,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),s=new WebAssembly.Module(s),new WebAssembly.Instance(s,{e:{f:t}}).exports.f},warnOnce:u};function n(t){var i=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.HEAP8=null,this.HEAP16=null,this.HEAP32=null,this.HEAPU8=null,this.HEAPU16=null,this.HEAPU32=null,this.HEAPF32=null,this.HEAPF64=null,this.exports=null,this.memory=null,this.module=null,this.table=null,this.stack=0,this.byteLength=0;function n(t){if(a=!0,"object"===_typeof(t.memory))i.memory=t.memory;else{if("object"!==_typeof(e.env.memory))throw new Error("no memory buffer");i.memory=e.env.memory}i.setHeap(),i.exports=t,i.table=t.__indirect_function_table,o.forEach(function(t){return t.call(i)}),o.length=0}function r(t){h.warnOnce(t.message),s&&s(t)}var o=[],s=e&&"function"==typeof e.error?e.error:null,a=!1,c=null;this.setHeap=function(){var t=i.memory.buffer;i.byteLength=t.byteLength,i.HEAP8=new Int8Array(t),i.HEAP16=new Int16Array(t),i.HEAP32=new Int32Array(t),i.HEAPU8=new Uint8Array(t),i.HEAPU16=new Uint16Array(t),i.HEAPU32=new Uint32Array(t),i.HEAPF32=new Float32Array(t),i.HEAPF64=new Float64Array(t)},this.ready=function(t){return"function"==typeof t&&(a?t.call(i):o.push(t)),a},this.fn2wasm=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if("function"!=typeof e)return 0;if(n&&"string"==typeof n||(n="v"),!c){c=new WeakMap;for(var t=0;t<i.table.length;t++){var r=i.table.get(t);r&&c.set(r,t)}}if(c.has(e))return c.get(e);try{i.table.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;var o="Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.";throw h.warnOnce(o),o}o=i.table.length-1;try{i.table.set(o,e)}catch(t){if(!(t instanceof TypeError))throw t;n=h.convertJsFunctionToWasm(e,n);i.table.set(o,n)}return c.set(e,o),o};try{t instanceof WebAssembly.Instance?n(t.exports):("object"===_typeof(e)&&e||(e={}),f(t,e).then(function(t){i.module=t.module,n(t.instance.exports)}).catch(function(t){r(t)}))}catch(t){r(t)}}n.prototype.ccall=function(t,e,n){var r=this.exports,o=this,i={string:function(t){var e,n=0;return null!=t&&0!==t&&(e=1+(t.length<<2),n=r.stackAlloc(e),h.stringToUTF8(t,o.HEAPU8,n,e)),n},array:function(t){var e=o.HEAP32.BYTES_PER_ELEMENT,n=r.stackAlloc(t.length*e);return o.HEAP32.set(t,n/e),n}};var s=[],a=0;if(n)for(var c=0;c<n.length;c++){var f=i[Array.isArray(n[c])?"array":_typeof(n[c])];f?(0===a&&(a=r.stackSave()),s[c]=f(n[c])):s[c]=n[c]}var l,t=r[t].apply(null,s);return l=t,t="string"===e?h.UTF8ToString(o.HEAPU8,l):"boolean"===e?Boolean(l):l,0!==a&&r.stackRestore(a),t},n.prototype.mem2str=function(t,e){return h.UTF8ToString(this.HEAPU8,t,e)},n.prototype.str2mem=function(t){var e=h.lengthBytesUTF8(t),n=this.malloc(e+1);return h.stringToUTF8(t,this.HEAPU8,n,e),n},n.prototype.arr2mem=function(t){var e=this.heap(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"i32"),n=e.BYTES_PER_ELEMENT,r=this.malloc(t.length*n);return e.set(t,r/n),r},n.prototype.mem2arr=function(t,e){var n=this.heap(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"i32"),t=t/n.BYTES_PER_ELEMENT;return Array.from(n.subarray(t,t+e))},n.prototype.malloc=function(t){var e=this.exports,n=0;if("function"==typeof e.malloc)n=e.malloc(t);else{var r=e.stackSave();if(r<t){var o="stack overflow, "+t+" larger than "+r;throw h.warnOnce(o),new Error(o)}0===this.stack&&(this.stack=r),n=e.stackAlloc(t)}return this.byteLength!==this.memory.buffer.byteLength&&this.setHeap(),n},n.prototype.free=function(){var e=this.exports;if("function"==typeof e.free){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){e.free(t)})}this.stack&&(e.stackRestore(this.stack),this.stack=0)},n.prototype.getFree=function(){return this.exports.stackSave()},n.prototype.heap=function(){switch(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"i32"){case"i8":return this.HEAP8;case"i16":return this.HEAP16;case"u8":return this.HEAPU8;case"u16":return this.HEAPU16;case"u32":return this.HEAPU32;case"float":return this.HEAPF32;case"double":return this.HEAPF64;default:return this.HEAP32}};var s="wasminit",a='\nconst UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,err=console.warn.bind(console);function warnOnce(e){warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[e]||(warnOnce.shown[e]=1,err(e))}function lengthBytesUTF8(n){var r=0;for(let e=0;e<n.length;++e){var t=n.charCodeAt(e);(t=55296<=t&&t<=57343?65536+((1023&t)<<10)|1023&n.charCodeAt(++e):t)<=127?++r:r+=t<=2047?2:t<=65535?3:4}return r}function UTF8ToString(e,n,r){const t=e instanceof ArrayBuffer?new Uint8Array(e):e;for(var o=n+r,i=n;t[i]&&!(o<=i);)++i;if(16<i-n&&t.subarray&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(n,i));for(var a="";n<i;){var s,c,f=t[n++];128&f?(s=63&t[n++],192!=(224&f)?(c=63&t[n++],(f=224==(240&f)?(15&f)<<12|s<<6|c:(240!=(248&f)&&warnOnce("Invalid UTF-8 leading byte 0x"+f.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),(7&f)<<18|s<<12|c<<6|63&t[n++]))<65536?a+=String.fromCharCode(f):(c=f-65536,a+=String.fromCharCode(55296|c>>10,56320|1023&c))):a+=String.fromCharCode((31&f)<<6|s)):a+=String.fromCharCode(f)}return a}function stringToUTF8(e,n,r,t){if(!(0<t))return 0;const o=n instanceof ArrayBuffer?new Uint8Array(n):n;for(var n=r,i=r+t,a=0;a<e.length;++a){var s=e.charCodeAt(a);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++a):s)<=127){if(i<=r)break;o[r++]=s}else if(s<=2047){if(i<=r+1)break;o[r++]=192|s>>6,o[r++]=128|63&s}else if(s<=65535){if(i<=r+2)break;o[r++]=224|s>>12,o[r++]=128|s>>6&63,o[r++]=128|63&s}else{if(i<=r+3)break;2097152<=s&&warnOnce("Invalid Unicode code point 0x"+s.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF)."),o[r++]=240|s>>18,o[r++]=128|s>>12&63,o[r++]=128|s>>6&63,o[r++]=128|63&s}}return o[r]=0,r-n}function convertJsFunctionToWasm(e,n){if("function"==typeof WebAssembly.Function){var r={i:"i32",j:"i64",f:"f32",d:"f64"},t={parameters:[],results:"v"==n[0]?[]:[r[n[0]]]};for(let e=1;e<n.length;++e)t.parameters.push(r[n[e]]);return new WebAssembly.Function(t,e)}var o=[1,0,1,96],i=n.slice(0,1),a=n.slice(1),s={i:127,j:126,f:125,d:124};o.push(a.length);for(let e=0;e<a.length;++e)o.push(s[a[e]]);"v"==i?o.push(0):o=o.concat([1,s[i]]),o[1]=o.length-2;i=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),i=new WebAssembly.Module(i);return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}var utils={lengthBytesUTF8:lengthBytesUTF8,stringToUTF8:stringToUTF8,UTF8ToString:UTF8ToString,convertJsFunctionToWasm:convertJsFunctionToWasm,warnOnce:warnOnce};\nfunction WASM(t,e={}){this.HEAP8=null,this.HEAP16=null,this.HEAP32=null,this.HEAPU8=null,this.HEAPU16=null,this.HEAPU32=null,this.HEAPF32=null,this.HEAPF64=null,this.exports=null,this.memory=null,this.module=null,this.table=null,this.stack=0,this.byteLength=0;const r=[],s=e&&"function"==typeof e.error?e.error:null;let n=!1,i=null;const o=t=>{if(n=!0,"object"==typeof t.memory)this.memory=t.memory;else{if("object"!=typeof e.env.memory)throw new Error("no memory buffer");this.memory=e.env.memory}this.setHeap(),this.exports=t,this.table=t.__indirect_function_table,r.forEach(t=>t.call(this)),r.length=0},a=t=>{utils.warnOnce(t.message),s&&s(t)};this.setHeap=()=>{var t=this.memory.buffer;this.byteLength=t.byteLength,this.HEAP8=new Int8Array(t),this.HEAP16=new Int16Array(t),this.HEAP32=new Int32Array(t),this.HEAPU8=new Uint8Array(t),this.HEAPU16=new Uint16Array(t),this.HEAPU32=new Uint32Array(t),this.HEAPF32=new Float32Array(t),this.HEAPF64=new Float64Array(t)},this.ready=t=>("function"==typeof t&&(n?t.call(this):r.push(t)),n),this.fn2wasm=(e,r="")=>{if("function"!=typeof e)return 0;if(r&&"string"==typeof r||(r="v"),!i){i=new WeakMap;for(var t=0;t<this.table.length;t++){var s=this.table.get(t);s&&i.set(s,t)}}if(i.has(e))return i.get(e);try{this.table.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;var n="Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.";throw utils.warnOnce(n),n}n=this.table.length-1;try{this.table.set(n,e)}catch(t){if(!(t instanceof TypeError))throw t;r=utils.convertJsFunctionToWasm(e,r);this.table.set(n,r)}return i.set(e,n),n};try{t instanceof WebAssembly.Instance?o(t.exports):("object"==typeof e&&e||(e={}),load(t,e).then(t=>{this.module=t.module,o(t.instance.exports)}).catch(t=>{a(t)}))}catch(t){a(t)}}WASM.prototype.ccall=function(t,e,r){const s=this.exports,n=this;var i={string:function(t){var e,r=0;return null!=t&&0!==t&&(e=1+(t.length<<2),r=s.stackAlloc(e),utils.stringToUTF8(t,n.HEAPU8,r,e)),r},array:function(t){var e=n.HEAP32.BYTES_PER_ELEMENT,r=s.stackAlloc(t.length*e);return n.HEAP32.set(t,r/e),r}};var o=[],a=0;if(r)for(var l=0;l<r.length;l++){var h=i[Array.isArray(r[l])?"array":typeof r[l]];h?(0===a&&(a=s.stackSave()),o[l]=h(r[l])):o[l]=r[l]}t=function convertReturnValue(t){return"string"===e?utils.UTF8ToString(n.HEAPU8,t):"boolean"===e?Boolean(t):t}(t=s[t].apply(null,o));return 0!==a&&s.stackRestore(a),t},WASM.prototype.mem2str=function(t,e){return utils.UTF8ToString(this.HEAPU8,t,e)},WASM.prototype.str2mem=function(t){var e=utils.lengthBytesUTF8(t),r=this.malloc(e+1);return utils.stringToUTF8(t,this.HEAPU8,r,e),r},WASM.prototype.arr2mem=function(t,e="i32"){const r=this.heap(e);var s=r.BYTES_PER_ELEMENT,e=this.malloc(t.length*s);return r.set(t,e/s),e},WASM.prototype.mem2arr=function(t,e,r="i32"){const s=this.heap(r);t/=s.BYTES_PER_ELEMENT;return Array.from(s.subarray(t,t+e))},WASM.prototype.malloc=function(t){const e=this.exports;let r=0;if("function"==typeof e.malloc)r=e.malloc(t);else{var s=e.stackSave();if(s<t){var n="stack overflow, "+t+" larger than "+s;throw utils.warnOnce(n),new Error(n)}0===this.stack&&(this.stack=s),r=e.stackAlloc(t)}return this.byteLength!==this.memory.buffer.byteLength&&this.setHeap(),r},WASM.prototype.free=function(...t){const e=this.exports;"function"==typeof e.free&&t.forEach(t=>{e.free(t)}),this.stack&&(e.stackRestore(this.stack),this.stack=0)},WASM.prototype.getFree=function(){return this.exports.stackSave()},WASM.prototype.heap=function(t="i32"){switch(t){case"i8":return this.HEAP8;case"i16":return this.HEAP16;case"u8":return this.HEAPU8;case"u16":return this.HEAPU16;case"u32":return this.HEAPU32;case"float":return this.HEAPF32;case"double":return this.HEAPF64;default:return this.HEAP32}};\nlet wasm = null;\nif (typeof importObject !== \'object\') {importObject = {};}\nvoid 0===importObject.env&&(importObject.env={}),["emscripten_resize_heap","emscripten_memcpy_big","emscripten_notify_memory_growth","emscripten_asm_const_int"].forEach(e=>{"function"!=typeof importObject.env[e]&&(importObject.env[e]=()=>{})}),void 0===importObject.wasi_snapshot_preview1&&(importObject.wasi_snapshot_preview1={}),["proc_exit","fd_write"].forEach(e=>{"function"!=typeof importObject.wasi_snapshot_preview1[e]&&(importObject.wasi_snapshot_preview1[e]=()=>{})}),"number"!=typeof importObject.INITIAL_MEMORY||importObject.env.memory||(importObject.env.memory=new WebAssembly.Memory({initial:importObject.INITIAL_MEMORY,maximum:"number"==typeof importObject.MAXIMUM_MEMORY?importObject.MAXIMUM_MEMORY:importObject.INITIAL_MEMORY}));\nlet _initWASM = function (e) {\n  if (e.data.type === \''.concat(s,"') {\n    WebAssembly.instantiate(e.data.mod, importObject).then(function(instance) {\n      wasm = new Proxy(new WASM(instance), {\n        get: (obj, k) => {\n      if (k in obj) {\n        return obj[k];\n      }\n      if (k in obj.exports) {\n        return obj.exports[k];\n      }\n    },\n    set: (obj, k, val) => {\n      const exclude = [\n        'exports',\n        'memory',\n        'table',\n        'HEAP8',\n        'HEAP16',\n        'HEAP32',\n        'HEAPU8',\n        'HEAPU16',\n        'HEAPU32',\n        'HEAPF32',\n        'HEAPF64',\n        'bytesLength'\n      ];\n      if (exclude.includes(k)) {\n        return false;\n      }\n      obj[k] = val;\n      return true;\n    }\n      })\n      if (typeof wasmready === 'function') wasmready();\n      else postMessage({type: 'wasmready'});\n    });\n    removeEventListener('message', _initWASM);\n    _initWASM = null;\n  }\n}\naddEventListener('message', _initWASM)\n");t.WASM=n,t.default=function(t,e){return e=new n(t,e),new Proxy(e,{get:function(t,e){return e in t?t[e]:e in t.exports?t.exports[e]:void 0},set:function(t,e,n){return!["exports","memory","table","HEAP8","HEAP16","HEAP32","HEAPU8","HEAPU16","HEAPU32","HEAPF32","HEAPF64","bytesLength"].includes(e)&&(t[e]=n,!0)}})},t.load=f,t.utils=h,t.worker=function(o,i){return new Promise(function(r,e){"string"==typeof o||o instanceof WebAssembly.Module||e(new Error("no module or url"));function t(t){var n=window.URL.createObjectURL(new Blob([a+t]));"string"==typeof o?f(o).then(function(t){var e=new Worker(n);e.postMessage({type:s,mod:t}),r(e)}).catch(e):((t=new Worker(n)).postMessage({type:s,mod:o}),r(t))}var n;/\.js\??/.test(i)?fetch(i).then(function(t){return t.text()}).then(t).catch(e):(n=document.querySelector(i))?t(n.textContent):e()})},Object.defineProperty(t,"__esModule",{value:!0})});