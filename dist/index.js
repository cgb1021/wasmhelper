function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).wasmhelper={})}(this,function(e){"use strict";var a=function(e,t){return t?(void 0===t.env&&(t.env={}),["emscripten_resize_heap","emscripten_memcpy_big","emscripten_notify_memory_growth","emscripten_asm_const_int"].forEach(function(e){"function"!=typeof t.env[e]&&(t.env[e]=function(){})}),void 0===t.wasi_snapshot_preview1&&(t.wasi_snapshot_preview1={}),["proc_exit"].forEach(function(e){"function"!=typeof t.wasi_snapshot_preview1[e]&&(t.wasi_snapshot_preview1[e]=function(){})}),WebAssembly.instantiateStreaming(fetch(e),t)):WebAssembly.compileStreaming(fetch(e))},u="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,t=console.warn.bind(console);function l(e){l.shown||(l.shown={}),l.shown[e]||(l.shown[e]=1,t(e))}var y={lengthBytesUTF8:function(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);(n=55296<=n&&n<=57343?65536+((1023&n)<<10)|1023&e.charCodeAt(++r):n)<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t},stringToUTF8:function(e,t,r,n){if(!(0<n))return 0;for(var o=t instanceof ArrayBuffer?new Uint8Array(t):t,t=r,i=r+n,a=0;a<e.length;++a){var s=e.charCodeAt(a);if((s=55296<=s&&s<=57343?65536+((1023&s)<<10)|1023&e.charCodeAt(++a):s)<=127){if(i<=r)break;o[r++]=s}else if(s<=2047){if(i<=r+1)break;o[r++]=192|s>>6,o[r++]=128|63&s}else if(s<=65535){if(i<=r+2)break;o[r++]=224|s>>12,o[r++]=128|s>>6&63,o[r++]=128|63&s}else{if(i<=r+3)break;2097152<=s&&l("Invalid Unicode code point 0x"+s.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF)."),o[r++]=240|s>>18,o[r++]=128|s>>12&63,o[r++]=128|s>>6&63,o[r++]=128|63&s}}return o[r]=0,r-t},UTF8ToString:function(e,t,r){for(var n=e instanceof ArrayBuffer?new Uint8Array(e):e,o=t+r,i=t;n[i]&&!(o<=i);)++i;if(16<i-t&&n.subarray&&u)return u.decode(n.subarray(t,i));for(var a="";t<i;){var s,f,c=n[t++];128&c?(s=63&n[t++],192!=(224&c)?(f=63&n[t++],(c=224==(240&c)?(15&c)<<12|s<<6|f:(240!=(248&c)&&l("Invalid UTF-8 leading byte 0x"+c.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),(7&c)<<18|s<<12|f<<6|63&n[t++]))<65536?a+=String.fromCharCode(c):(f=c-65536,a+=String.fromCharCode(55296|f>>10,56320|1023&f))):a+=String.fromCharCode((31&c)<<6|s)):a+=String.fromCharCode(c)}return a}};function r(t,r){var n=this;this.HEAP8=null,this.HEAP16=null,this.HEAP32=null,this.HEAPU8=null,this.HEAPU16=null,this.HEAPU32=null,this.HEAPF32=null,this.HEAPF64=null,this.exports=null,this.memory=null,this.stack=0;function o(e){if("object"===_typeof(e.memory))n.memory=e.memory;else{if("object"!==_typeof(r.env.memory))throw new Error("no memory buffer");n.memory=r.env.memory}var t=n.memory.buffer;n.HEAP8=new Int8Array(t),n.HEAP16=new Int16Array(t),n.HEAP32=new Int32Array(t),n.HEAPU8=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAPU32=new Uint32Array(t),n.HEAPF32=new Float32Array(t),n.HEAPF64=new Float64Array(t),n.exports=e}var i;"string"==typeof t?(i="function"==typeof r.ready?r.ready:null,delete r.ready,a(t,r).then(function(e){o(e.instance.exports),i&&(i.call(n,t),i=null)})):o(t.exports)}r.prototype.ccall=function(e,t,r){var n=this.exports,o=this,i={string:function(e){var t,r=0;return null!=e&&0!==e&&(t=1+(e.length<<2),r=n.stackAlloc(t),y.stringToUTF8(e,o.HEAPU8,r,t)),r},array:function(e){var t=o.HEAP32.BYTES_PER_ELEMENT,r=n.stackAlloc(e.length*t);return o.HEAP32.set(e,r/t),r}};var a=[],s=0;if(r)for(var f=0;f<r.length;f++){var c=i[Array.isArray(r[f])?"array":_typeof(r[f])];c?(0===s&&(s=n.stackSave()),a[f]=c(r[f])):a[f]=r[f]}var u,e=n[e].apply(null,a);return u=e,e="string"===t?y.UTF8ToString(o.HEAPU8,u):"boolean"===t?Boolean(u):u,0!==s&&n.stackRestore(s),e},r.prototype.mem2str=function(e,t){return y.UTF8ToString(this.HEAPU8,e,t)},r.prototype.str2mem=function(e){var t=y.lengthBytesUTF8(e),r=this.malloc(t+1);return y.stringToUTF8(e,this.HEAPU8,r,t),r},r.prototype.arr2mem=function(e){var t=this.heap(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"i32"),r=t.BYTES_PER_ELEMENT,n=this.malloc(e.length*r);return t.set(e,n/r),n},r.prototype.mem2arr=function(e,t){var r=this.heap(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"i32"),e=e/r.BYTES_PER_ELEMENT;return Array.from(r.subarray(e,e+t))},r.prototype.malloc=function(e){var t=this.exports,r=0;if("function"==typeof t.malloc)r=t.malloc(e);else{var n=t.stackSave();if(n<e)throw new Error("stack overflow");0===this.stack&&(this.stack=n),r=t.stackAlloc(e)}return r},r.prototype.free=function(){var t=this.exports;if("function"==typeof t.free){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(e){t.free(e)})}this.stack&&(t.stackRestore(this.stack),this.stack=0)},r.prototype.heap=function(){switch(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"i32"){case"i8":return this.HEAP8;case"i16":return this.HEAP16;case"u8":return this.HEAPU8;case"u16":return this.HEAPU16;case"u32":return this.HEAPU32;case"float":return this.HEAPF32;case"double":return this.HEAPF64;default:return this.HEAP32}},r.prototype.grow=function(e){return this.memory.grow(e)},e.WASM=r,e.default=function(e){return e=new r(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),new Proxy(e,{get:function(e,t){return t in e?e[t]:t in e.exports?e.exports[t]:void 0},set:function(e,t,r){return!["malloc","free","exports","memory","HEAP8","HEAP16","HEAP32","HEAPU8","HEAPU16","HEAPU32","HEAPF32","HEAPF64"].includes(t)&&(e[t]=r,!0)}})},e.load=a,e.utils=y,Object.defineProperty(e,"__esModule",{value:!0})});